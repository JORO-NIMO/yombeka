<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyezaho</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Create stunning images with AI. Use templates or write your own prompts.">
    <link rel="apple-touch-icon" href="logo192.png" />
</head>
<body>
    <div class="app-container">
        <!-- Main Generator Card -->
        <div class="app-card">
            <h1 class="app-title">Yombeka</h1>
            <p class="app-description">
                Create stunning images with AI. Use templates or write your own prompts.
            </p>

            <!-- Prompt Templates -->
            <div class="templates-section">
                <h3>Quick Templates</h3>
                <div class="template-buttons">
                    <button class="template-btn" data-prompt="A majestic mountain landscape at sunset with golden light">üèîÔ∏è Mountain Sunset</button>
                    <button class="template-btn" data-prompt="Western Ugandan hills">ugandan hills</button>
                    <button class="template-btn" data-prompt="A magical forest with glowing mushrooms and fairy lights">üßö Magical Forest</button>
                    <button class="template-btn" data-prompt="A uganda leader of opposition">Future President of uganda</button>
                    <button class="template-btn" data-prompt="An abstract digital art piece with vibrant colors and geometric shapes">üé® Abstract Art</button>
                    <button class="template-btn" data-prompt="A cute cartoon animal character in anime style">üê± Anime Pet</button>
                </div>
            </div>

            <!-- Input Section -->
            <div class="input-container">
                <textarea
                    id="promptInput"
                    class="prompt-input"
                    placeholder="Describe the image you want to create..."
                    rows="3"
                ></textarea>
                <div class="button-group">
                    <button id="generateButton" class="generate-button">
                        <span id="buttonText">Generate Image</span>
                        <div id="spinner" class="spinner hidden"></div>
                    </button>
                    <button id="randomPromptButton" class="secondary-button">üé≤ Random</button>
                </div>
            </div>

            <!-- Generation Settings (hidden) -->
            <div class="templates-section hidden" style="margin-top: 0.5rem;">
                <h3>Generation Settings</h3>
                <div class="template-buttons" style="grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));">
                    <div>
                        <label for="widthInput" style="display:block;font-size:0.85rem;color:#374151;margin-bottom:0.25rem;">Width</label>
                        <input id="widthInput" type="number" min="256" max="1024" step="64" value="512" class="prompt-input" style="min-height:auto;">
                    </div>
                    <div>
                        <label for="heightInput" style="display:block;font-size:0.85rem;color:#374151;margin-bottom:0.25rem;">Height</label>
                        <input id="heightInput" type="number" min="256" max="1024" step="64" value="512" class="prompt-input" style="min-height:auto;">
                    </div>
                    <div>
                        <label for="modelSelect" style="display:block;font-size:0.85rem;color:#374151;margin-bottom:0.25rem;">Model</label>
                        <select id="modelSelect" class="prompt-input" style="min-height:auto;">
                            <option value="flux" selected>flux (default)</option>
                            <option value="flux-realism">flux-realism</option>
                            <option value="sdxl">sdxl</option>
                            <option value="turbo">turbo</option>
                        </select>
                    </div>
                    <div>
                        <label for="seedInput" style="display:block;font-size:0.85rem;color:#374151;margin-bottom:0.25rem;">Seed</label>
                        <input id="seedInput" type="number" min="0" max="999999999" step="1" class="prompt-input" style="min-height:auto;" placeholder="Random each time">
                        <div style="margin-top:0.25rem;display:flex;gap:0.5rem;align-items:center;">
                            <input id="randomizeSeedCheckbox" type="checkbox" checked>
                            <label for="randomizeSeedCheckbox" style="font-size:0.85rem;color:#374151;">Randomize seed</label>
                        </div>
                    </div>
                    <div>
                        <label for="autoCropCheckbox" style="display:block;font-size:0.85rem;color:#374151;margin-bottom:0.25rem;">Post-process</label>
                        <div style="display:flex;gap:0.5rem;align-items:center;">
                            <input id="autoCropCheckbox" type="checkbox" checked>
                            <label for="autoCropCheckbox" style="font-size:0.85rem;color:#374151;">Auto-crop watermark</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Display area for image, loading, or error messages -->
            <div class="result-container">
                <div id="loadingContainer" class="loading-container hidden">
                    <div class="spinner large"></div>
                    <p>Generating image...</p>
                </div>

                <div id="errorContainer" class="error-container hidden">
                    <p id="errorMessage"></p>
                </div>

                <div id="imageContainer" class="image-container hidden">
                    <div class="image-wrapper">
                        <img id="generatedImage" class="generated-image" alt="Generated from prompt" />
                        <div class="image-overlay">
                            <div class="image-actions">
                                <button id="downloadButton" class="action-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                    Download
                                </button>
                                <button id="editButton" class="action-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                    </svg>
                                    Edit
                                </button>
                                <button id="saveToGalleryButton" class="action-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <circle cx="8.5" cy="8.5" r="1.5"/>
                                        <polyline points="21,15 16,10 5,21"/>
                                    </svg>
                                    Save
                                </button>
                            </div>
                        </div>
                    </div>
                    <p id="imagePrompt" class="image-prompt"></p>

                    <!-- Caption and Social/Feedback Row -->
                    <div class="image-actions" style="margin-top:0.5rem; justify-content: space-between; flex-wrap: wrap; gap: 0.5rem;">
                        <div style="display:flex; gap:0.5rem; align-items:center;">
                            <button id="likeButton" class="action-btn" title="Like">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span id="likeCount">0</span>
                            </button>
                            <button id="dislikeButton" class="action-btn" title="Dislike">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M10 15l-3.5 3.5a2.121 2.121 0 0 0 3 3L13 18l7-7"/>
                                </svg>
                                <span id="dislikeCount">0</span>
                            </button>
                        </div>

                        <div style="display:flex; gap:0.5rem; align-items:center;">
                            <button id="shareXButton" class="action-btn" title="Share to X">X</button>
                            <button id="shareFBButton" class="action-btn" title="Share to Facebook">FB</button>
                            <button id="shareWAButton" class="action-btn" title="Share to WhatsApp">WA</button>
                            <button id="copyLinkButton" class="action-btn" title="Copy caption">Copy Caption</button>
                        </div>
                    </div>

                    <div style="margin-top:0.5rem;">
                        <input id="captionInput" class="prompt-input" style="min-height:auto;" placeholder="Suggested caption will appear here" />
                    </div>
                </div>

                <div id="placeholderContainer" class="placeholder-container">
                    <svg class="placeholder-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21,15 16,10 5,21"/>
                    </svg>
                    <p>Your generated image will appear here.</p>
                </div>
            </div>
        </div>

        <!-- Gallery Section -->
        <div class="gallery-section">
            <div class="gallery-header">
                <h2>Image Gallery</h2>
                <button id="clearGalleryButton" class="clear-btn">Clear All</button>
            </div>
            <div id="galleryContainer" class="gallery-container">
                <div class="gallery-empty">
                    <p>No saved images yet. Generate and save some images to see them here!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Editor Modal -->
    <div id="editorModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Image Editor</h3>
                <button id="closeEditor" class="close-btn">&times;</button>
            </div>
            <div class="editor-container">
                <canvas id="editorCanvas"></canvas>
                <div class="editor-controls">
                    <div class="control-group">
                        <label>Brightness:</label>
                        <input type="range" id="brightnessSlider" min="0" max="200" value="100">
                    </div>
                    <div class="control-group">
                        <label>Contrast:</label>
                        <input type="range" id="contrastSlider" min="0" max="200" value="100">
                    </div>
                    <div class="control-group">
                        <label>Saturation:</label>
                        <input type="range" id="saturationSlider" min="0" max="200" value="100">
                    </div>
                    <div class="control-group">
                        <label>Blur:</label>
                        <input type="range" id="blurSlider" min="0" max="10" value="0">
                    </div>
                    <div class="editor-actions">
                        <button id="resetFilters" class="secondary-button">Reset</button>
                        <button id="applyFilters" class="generate-button">Apply & Download</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
